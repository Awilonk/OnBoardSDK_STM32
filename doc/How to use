| Left Aligned |  Center Aligned  | Right Aligned |
|:-------------|:----------------:| -------------:|
| Left | Center | Right |
| Left Aligned | Center Aligned | Right Aligned |


##本工程使用stm32f407Discovery开发板测试。使用串口和开发板通信，发送指令。
采用四线串口协议，如果PC上没有串口，建议使用USB转串口模块，如MAX232、PL2303、CP2102等


##使用USART2作为Debug通道。端口为PB10，PB11分别对应USART2的TX、RX，波特率为115200，此处的波特率必须和串口调试助手的波特率一致；
使用USART3作为和M100上的N1飞控通信的接口。端口为PA2、PA3分别对应USART3的TX、RX，和N1飞控的“USART_CAN2”端口连接。波特率为921600.此处的波特率必须和N1飞控的波特率一致，可以在DJI调参软件中调整；  



+ 第一次使用前请连接手机和遥控器，并按照官网提示激活飞机。更多关于激活https://developer.dji.com/cn/onboard-sdk/documentation/ActivationGuide/
第一次激活后可以使用虚拟遥控功能替代实体遥控器

1.将M100上电（注意，测试时请将螺旋桨拆下）

2.待M100启动后将stm32与之连接。由于M100没有提供3/5V电源接口，请自行给stm32供电。

3.用串口将PC和stm32连接起来，建议购入usb延长线、各种无线透传模块，方便调试。





硬件正确配置后，复位stm32。如果一切正常，你将会看到M100发送回来的版本信息，此时可以向M100发送测试指令

指令格式如下：

第一第二个字节为帧头，固定为0xFA 0xFB。
第三、第四个字节为指令。
第五个字节位帧结束字节。
单片机接收到帧结束字节0xFE后会立即开始一次命令响应。

注意：这里所指的指令是PC向stm32发送的命令，发送时请勾选Hex发送而不是ASCII发送。M100发回来的调试信息也会发送到
PC上，所以在PC上的串口调试助手中发送端选择HEX发送，接收端选择ASCII接收，波特率为115200

例如：0xFA 0xFB 0x02 0x01 0xFE

已经支持的命令如下，需要更多指令请自行添加

获取当前版本信息：0xFA 0xFB 0x00 0xFE
发送激活指令  0xFA 0xFB 0x01 0xFE
